webpackJsonp([10],{835:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(15),u=n(r),s=a(201),o=n(s),c=a(945),i=n(c),l=a(342),p=n(l);a(343);var d=a(339),f=a(337);t.default={namespace:"login",state:{status:void 0},effects:{accountSubmit:o.default.mark(function e(t,a){var n,r=t.payload,u=a.call,s=a.put;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({type:"changeSubmitting",payload:!0});case 2:return e.next=4,u(f.accountLogin,{email:r.email,password:r.password});case 4:if(!(n=e.sent)||2e3!==n.code){e.next=9;break}p.default.error(n.msg),e.next=14;break;case 9:if(!n||1e3!==n.code){e.next=14;break}return localStorage.uhs_admin_user=(0,i.default)(n.user),e.next=13,s({type:"changeLoginStatus",payload:n});case 13:r.cb();case 14:return e.next=16,s({type:"changeSubmitting",payload:!1});case 16:case"end":return e.stop()}},e,this)}),mobileSubmit:o.default.mark(function e(t,a){var n,r=a.call,u=a.put;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({type:"changeSubmitting",payload:!0});case 2:return e.next=4,r(f.fakeMobileLogin);case 4:return n=e.sent,e.next=7,u({type:"changeLoginStatus",payload:n});case 7:return e.next=9,u({type:"changeSubmitting",payload:!1});case 9:case"end":return e.stop()}},e,this)}),logout:o.default.mark(function e(t,a){var n=a.put;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({type:"changeLoginStatus",payload:{status:!1}});case 2:return e.next=4,n(d.routerRedux.push("/user/login"));case 4:case"end":return e.stop()}},e,this)})},reducers:{changeLoginStatus:function(e,t){var a=t.payload;return(0,u.default)({},e,{user:a.user,token:a.access_token})},changeSubmitting:function(e,t){var a=t.payload;return(0,u.default)({},e,{submitting:a})}}},e.exports=t.default},945:function(e,t,a){e.exports={default:a(946),__esModule:!0}},946:function(e,t,a){var n=a(12),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}}});